# 실행 컨텍스트(Execution Context)

자바스크립트의 실행 과정에서 코드가 실행되는 환경

자바스크립트 코드가 실행될 때마다 실행 컨텍스트가 생성되며, 이는 변수, 함수, 객체 등을 포함하는 실행 환경을 추적

자바스크립트는 호이스팅, 스코프, 클로저와 같은 개념과 밀접하게 연관되어 있음

## 주요 개념

### 렉시컬 환경(Lexical Environment)

- 실행 컨텍스트 내에서 변수, 함수 선언, this 값 등을 추적하는 환경을 의미합니다.
- **변수 환경(Variable Environment)**과 **상위 렉시컬 환경(Outer Lexical Environment)**이 포함됨

### this 바인딩(This Binding)

- 현재 코드가 실행될 때, this가 무엇을 참조하는지 결정
- this는 실행 컨텍스트의 종류에 따라 다르게 바인딩 됨

### 스코프 체인(Scope Chain)

- 현재 코드가 접근할 수 있는 변수와 함수의 범위(스코프)를 추적
- 자바스크립트는 **렉시컬 스코프(Lexical Scope)**를 따르므로, 함수가 선언된 위치에 따라 변수의 범위가 결정됩니다.

### 호이스팅(Hoisting)

- 자바스크립트는 변수와 함수 선언을 실행 전에 위로 끌어올리는 호이스팅이 발생함
- 실행 컨텍스트는 함수나 코드 블록이 실행되기 전에 선언된 변수와 함수들을 호이스팅하여 처리함

## 종류

### 글로벌 실행 컨텍스트(Global Execution Context)

- 자바스크립트 코드가 처음 실행될 때 생성되는 기본 실행 컨텍스트
- 전역 객체인 window(브라우저 환경)나 global(Node.js 환경)을 참조
- 이 컨텍스트에서 모든 전역 변수와 함수가 선언

### 함수 실행 컨텍스트 (Function Execution Context)

- 함수가 호출될 때마다 새로운 실행 컨텍스트가 생성
- 함수가 실행될 때마다 해당 함수에 대한 스코프, 매개변수, 지역 변수 등이 포함
- 함수 호출 시 새로운 스코프 체인과 this 바인딩이 형성됨

### eval 실행 컨텍스트 (Eval Execution Context)

- eval() 함수 내에서 실행되는 코드에서 생성되는 실행 컨텍스트
- eval()을 사용하여 실행되는 코드는 호출된 컨텍스트 내에서 동작
- eval() 사용은 권장되지 않으며, 보안상 위험이 있을 수 있음

## 생성 및 종료 과정

### 컨텍스트 생성

- 자바스크립트 코드 실행을 시작하기 전에 먼저 컨텍스트를 생성
- 컨텍스트가 생성될 때마다 렉시컬 환경과 this 바인딩이 결정됨

### 컨텍스트 실행

- 컨텍스트가 생성되면, 코드가 실행되며 스코프 체인에 따라 변수와 함수가 처리
- 이때 호이스팅이 일어나며 선언된 변수나 함수는 해당 실행 컨텍스트의 초기화 과정에서 사용될 준비를 합니다.

### 컨텍스트 종료

- 코드 실행이 끝나면 해당 실행 컨텍스트는 콜 스택에서 제거되고 종료
- 함수 실행 컨텍스트는 함수가 끝날 때 종료되며 글로벌 실행 컨텍스트는 프로그램 종료 시까지 유지됨

## 실행 컨텍스트와 콜 스택(Call Stack)

- 자바스크립트는 단일 스레드에서 동작하므로, 한 번에 하나의 실행 컨텍스트만을 처리할 수 있음
- 실행 컨텍스트는 콜 스택에 쌓이며 각 함수가 호출될 때마다 새로운 실행 컨텍스트가 생성되어 스택에 쌓이고 함수 실행이 끝나면 해당 컨텍스트는 스택에서 제거
- 스택에 있는 실행 컨텍스트는 LIFO(Last In First Out, 후입선출) 방식으로 처리됨
