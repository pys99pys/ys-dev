## 정규표현식이란?

문자열에서 특정 문자 조합을 찾기위한 패턴

## 정규표현식 생성

- 리터럴 방식
  ```
  const re = /ab+c/
  ```
  정규 표현식 리터럴은 스크립트를 불러올 때 컴파일되므로, 바뀔 일이 없는 패턴의 경우 리터럴을 사용하면 성능이 향상될 수 있다.
- RegExp 객체의 생성자 호출
  ```
  const re = new RegExp('ab+c')
  ```
  생성자 함수를 사용하면 정규 표현식이 런타임에 컴파일된다. 바뀔 수 있는 패턴이나, 사용자 입력 등 외부 출처에서 가져오는 패턴의 경우 이렇게 사용할 수 있다.

## 정규표현식의 형식

`/패턴/플래그`

- `//` 사이에 매칭시킬 패턴을 작성
- 두번째 `/` 뒤에 옵션을 설정하는 플래그를 작성

## 정규표현식 매칭 패턴

매칭 패턴을 사용하여 보다 쉽게 문자/숫자/기호를 표현할 수 있다.

| 패턴       | 의미(-으로 범위 지정)                                             |
| ---------- | ----------------------------------------------------------------- |
| a-zA-Z     | 영어알파벳                                                        |
| ㄱ-ㅎ가-힣 | 한글 문자                                                         |
| 0-9        | 숫자                                                              |
| .          | 모든 문자열(숫자, 한글, 영어, 특수기호, 공백 모두 단, 줄바꿈은 X) |
| \d         | 숫자                                                              |
| \D         | 숫자가 아닌 것                                                    |
| \w         | 영어 알파벳                                                       |
| \W         | /w 가 아닌 것                                                     |
| \s         | space 공백                                                        |
| \S         | space 공백이 아닌 것                                              |
| \특수기호  | 특수기호                                                          |

## 정규표현식 검색 패턴

검색 패턴을 이용하여 And, Or, StartWith, EndWith 등의 다양한 조합을 만들 수 있다.

| 기호      | 의미                                               |
| --------- | -------------------------------------------------- |
| \|        | Or                                                 |
| []        | 괄호안의 문자들 중 하나                            |
| [^문자]   | 괄호안의 문자를 제외한 것                          |
| ^문자열   | 특정 문자열로 시작                                 |
| 문자열$   | 특정 문자열로 끝남                                 |
| ()        | 그룹 검색 및 분류(match메서드에서 그룹별로 묶어줌) |
| (?: 패턴) | 그룹 검색(분류X)                                   |
| \b        | 단어의 처음/끝                                     |
| \B        | 단어의 처음/끝이 아님                              |

## 정규표현식 수량 패턴

수량 패턴을 이용하여 특정 패턴이 몇번 반복되는지 필터링 할 수 있다.

| 기호       | 의미                             |
| ---------- | -------------------------------- |
| ?          | 최대 한번(0 or 1)                |
| \*         | 0개 이상(0~)                     |
| +          | 1개 이상(1~)                     |
| {n}        | n개                              |
| {min,}     | 최소 min개 이상                  |
| {min, max} | 최소 min개 이상, 최대 max개 이하 |

## 정규표현식 플래그

동시에 여러개의 플래그를 사용할 수도 있다.

| 플래그 | 의미                                                     |
| ------ | -------------------------------------------------------- |
| g      | global - 모든 문자 검색(안 쓰면 매칭되는 첫 문자만 검색) |
| i      | ignore case - 대소문자 구분 안함                         |
| m      | multi line - 여러 행의 문자열에 대해 검색                |

그밖에 **S**ingleline, **U**nicode, Stick**y** 옵션도 있는데, 잘 쓰이진 않음

## 자바스크립트 정규표현식 메서드

| 메서드                                   | 의미                                                           |
| ---------------------------------------- | -------------------------------------------------------------- |
| (문자열).match(정규표현식)               | "문자열"에서 "정규표현식"에 매칭되는 항목들을 배열로 반환      |
| (문자열).replace(정규표현식, 대체문자열) | "정규표현식"에 매칭되는 항목을 "대체문자열"로 변환             |
| (문자열).split(정규표현식)               | "문자열"을 "정규표현식"에 매칭되는 항목으로 쪼개어 배열로 반환 |
| (정규표현식).test(문자열)                | "문자열"이 "정규표현식"과 매칭되면 true, 아니면 false반환      |
| (정규표현식).exec(문자열)                | match메서드와 유사(단, 무조건 첫번째 매칭 결과만 반환)         |

## 정규표현식 예시

### 웹사이트 주소

```
"문의 사항은 https://qna.mywebsite.com 또는 http://qna.mywebsite.com에서 접수해주시기 바랍니다.".match(/https?:\/\/[\w-.]+/g);

// 결과: ['https://my-website.com', 'http://my-website.com']
```

1. `http`: `http`로 시작
2. `s?`: s가 최대 한번(있거나 없거나)
3. `:`: `:` 문자열 존재
4. `\/\/`: `//` 문자열 존재
5. `[\w-.]+`: 영어 알파벳(`\w`), 하이픈(`-`), 점(`.`)이 한개(`+`)이상 존재
6. `g`: 매칭되는걸 모두 검색

### 전화번호

```
"문의사항은 02-3338-9988 또는 010-3888-9822로 접수해주시기 바랍니다.".match(/\d{2,3}-\d{3,4}-\d{4}/g);

// 결과: ['02-3338-9988', '010-3888-9822']
```

1. `\d{2,3}`: 2~3(`{2,3}`)개의 숫자(`\d`)
2. `-`: 하이픈
3. `\d{3,4}`: 3~4(`{3,4}`)개의 숫자(`\d`)
4. `-`: 하이픈
5. `\d{4}`: 4(`{4}`)개의 숫자(`\d`)

### 이메일 주소

```
"문의사항은 qna@myemail.com 또는 qna@my-email.com으로 접수해주시기 바랍니다.".match(/[\w-.]+@[\w-.]+/g);

// 결과: ['qna@myemail.com', 'qna@my-email.com']
```

1. `[\w-.]+`: 영어 알파벳(`\w`), 하이픈(`-`), 점(`.`)이 한개(`+`)이상 존재
2. `@` @ 문자열 존재
3. `[\w-.]+`: 영어 알파벳(`\w`), 하이픈(`-`), 점(`.`)이 한개(`+`)이상 존재
