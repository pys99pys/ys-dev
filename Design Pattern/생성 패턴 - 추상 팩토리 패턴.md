# ì¶”ìƒ íŒ©í† ë¦¬ íŒ¨í„´(Abstract Factory Pattern)

ì„œë¡œ ê´€ë ¨ëœ ê°ì²´ë“¤ì„ ê·¸ë£¹ìœ¼ë¡œ ìƒì„±í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë””ìì¸ íŒ¨í„´, íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ê³¼ ë¹„ìŠ·í•˜ì§€ë§Œ ì—¬ëŸ¬ ê°œì˜ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” íŒ©í† ë¦¬ë“¤ì„ í•˜ë‚˜ë¡œ ë¬¶ì–´ ì œê³µí•˜ëŠ” ê²ƒì´ íŠ¹ì§•

## íŠ¹ì§•

- ì—°ê´€ëœ ê°ì²´ë“¤ì„ í•œ ë²ˆì— ìƒì„±í•  ìˆ˜ ìˆìŒ
- íŒ©í† ë¦¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ êµ¬ì²´ì ì¸ íŒ©í† ë¦¬ë¥¼ ìˆ¨ê¹€
- í´ë¼ì´ì–¸íŠ¸ê°€ ì–´ë–¤ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ”ì§€ ëª°ë¼ë„ ë¨
- ìƒˆë¡œìš´ ì œí’ˆêµ°ì„ ì¶”ê°€í•˜ê¸° ì‰½ì§€ë§Œ, ìƒˆë¡œìš´ ê°ì²´ ì¢…ë¥˜ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ì–´ë ¤ì›€

## êµ¬ì¡°

```
+-------------------+          +----------------------+
| AbstractFactory   |          | ConcreteFactoryA     |
|-------------------|          |----------------------|
| createProductX()  |<>------->| createProductX()     |
| createProductY()  |          | createProductY()     |
+-------------------+          +----------------------+
        |                                |
        | Implements                     | Implements
        v                                v
+------------------+          +----------------------+
| AbstractProductX |          | ConcreteProductX_A   |
|------------------|          |----------------------|
| operation()      |          | operation()          |
+------------------+          +----------------------+

+------------------+          +----------------------+
| AbstractProductY |          | ConcreteProductY_A   |
|------------------|          |----------------------|
| operation()      |          | operation()          |
+------------------+          +----------------------+
```

## êµ¬ì„± ìš”ì†Œ

- AbstractFactory(ì¶”ìƒ íŒ©í† ë¦¬): ì—¬ëŸ¬ ê°œì˜ ê´€ë ¨ëœ ê°ì²´(Product)ë¥¼ ìƒì„±í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ì œê³µ, createProductX(), createProductY() ê°™ì€ ë©”ì†Œë“œ í¬í•¨
- ConcreteFactory(êµ¬ì²´ì ì¸ íŒ©í† ë¦¬): AbstractFactoryë¥¼ êµ¬í˜„í•˜ì—¬ êµ¬ì²´ì ì¸ ì œí’ˆì„ ìƒì„±
- AbstractProduct(ì¶”ìƒ ì œí’ˆ): ìƒì„±ë  ì œí’ˆì˜ ì¸í„°í˜ì´ìŠ¤
- ConcreteProduct(êµ¬ì²´ì ì¸ ì œí’ˆ): AbstractProductë¥¼ êµ¬í˜„í•œ êµ¬ì²´ì ì¸ ê°ì²´
- Client(í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ): AbstractFactory ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ì²´ë¥¼ ìƒì„±

## ì˜ˆì œ

```
// ğŸš— Abstract Product - Engine
interface Engine {
  start(): void;
}

// ğŸ Concrete Product - Diesel Engine
class DieselEngine implements Engine {
  start(): void {
    console.log("Starting Diesel Engine");
  }
}

// ğŸš™ Concrete Product - Electric Engine
class ElectricEngine implements Engine {
  start(): void {
    console.log("Starting Electric Engine");
  }
}

// ğŸš— Abstract Product - Tire
interface Tire {
  roll(): void;
}

// ğŸ Concrete Product - Sport Tire
class SportTire implements Tire {
  roll(): void {
    console.log("Sport Tire rolling");
  }
}

// ğŸš™ Concrete Product - Offroad Tire
class OffroadTire implements Tire {
  roll(): void {
    console.log("Offroad Tire rolling");
  }
}

// ğŸ­ Abstract Factory
interface CarFactory {
  createEngine(): Engine;
  createTire(): Tire;
}

// ğŸ­ Concrete Factory - Diesel Car Factory
class DieselCarFactory implements CarFactory {
  createEngine(): Engine {
    return new DieselEngine();
  }
  createTire(): Tire {
    return new OffroadTire();
  }
}

// ğŸ­ Concrete Factory - Electric Car Factory
class ElectricCarFactory implements CarFactory {
  createEngine(): Engine {
    return new ElectricEngine();
  }
  createTire(): Tire {
    return new SportTire();
  }
}

// ğŸ¯ Client Code
function assembleCar(factory: CarFactory) {
  const engine = factory.createEngine();
  const tire = factory.createTire();
  
  engine.start();
  tire.roll();
}

// ğŸ”¥ Diesel Car ìƒì‚°
const dieselFactory = new DieselCarFactory();
assembleCar(dieselFactory);

// âš¡ Electric Car ìƒì‚°
const electricFactory = new ElectricCarFactory();
assembleCar(electricFactory);

// ì‹¤í–‰ ê²°ê³¼
Starting Diesel Engine
Offroad Tire rolling
Starting Electric Engine
Sport Tire rolling
```

## ì‚¬ìš©ì²˜

- ì„œë¡œ ê´€ë ¨ëœ ê°ì²´ë“¤ì„ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ì–´ì„œ ìƒì„±í•  ë•Œ
- í´ë¼ì´ì–¸íŠ¸ ì½”ë“œê°€ êµ¬ì²´ì ì¸ í´ë˜ìŠ¤ì— ì˜ì¡´í•˜ì§€ ì•Šë„ë¡ í•˜ê³  ì‹¶ì„ ë•Œ
- ì„œë¡œ ë‹¤ë¥¸ í”Œë«í¼(Mac, Windows ë“±)ì— ë§ì¶° ê°ì²´ë¥¼ ë‹¤ë¥´ê²Œ ìƒì„±í•´ì•¼ í•  ë•Œ
