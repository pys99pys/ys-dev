# ì»´í¬ì§€íŠ¸ íŒ¨í„´(Composite Pattern)

ê°ì²´ë¥¼ íŠ¸ë¦¬(Tree) êµ¬ì¡°ë¡œ êµ¬ì„±í•˜ì—¬ ë¶€ë¶„(Leaf)ê³¼ ì „ì²´(Composite)ë¥¼ ë™ì¼í•˜ê²Œ ë‹¤ë£° ìˆ˜ ìˆë„ë¡ í•˜ëŠ” íŒ¨í„´

## íŠ¹ì§•

- íŠ¸ë¦¬ êµ¬ì¡°(ê³„ì¸µ êµ¬ì¡°)ì—ì„œ ê°œë³„ ê°ì²´(Leaf)ì™€ ê·¸ë£¹(Composite)ì„ ë™ì¼í•˜ê²Œ ì·¨ê¸‰ ê°€ëŠ¥
- ì¬ê·€ì ì¸ êµ¬ì¡°ë¥¼ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŒ
- í´ë¼ì´ì–¸íŠ¸ëŠ” ê°œë³„ ê°ì²´ì™€ ë³µí•© ê°ì²´ë¥¼ ì‹ ê²½ ì“°ì§€ ì•Šê³  ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ ê°€ëŠ¥
- ê°ì²´ë¥¼ ìœ ì—°í•˜ê²Œ ì¶”ê°€/ì‚­ì œí•  ìˆ˜ ìˆìŒ

## êµ¬ì¡°

```
+----------------+
| Component      |  (ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤)
|----------------|
| operation()    |
+----------------+
        â–²
        |
+----------------+
| Leaf           |  (ë‹¨ì¼ ê°ì²´)
|----------------|
| operation()    |
+----------------+

+----------------+
| Composite      |  (ë³µí•© ê°ì²´)
|----------------|
| children[]     |
| operation()    |
| add(child)     |
| remove(child)  |
+----------------+
```

## êµ¬ì„± ìš”ì†Œ

- Component(ì»´í¬ë„ŒíŠ¸, ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤): Leafì™€ Compositeì„ ë™ì¼í•˜ê²Œ ë‹¤ë£° ìˆ˜ ìˆë„ë¡ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µ
- Leaf(ë‹¨ì¼ ê°ì²´): ë³µí•© ê°ì²´ê°€ ì•„ë‹Œ ë…ë¦½ì ì¸ ê°ì²´
- Composite(ë³µí•© ê°ì²´): ì—¬ëŸ¬ ê°œì˜ Componentë¥¼ í¬í•¨í•  ìˆ˜ ìˆëŠ” ê°ì²´, add(), remove() ë©”ì„œë“œë¥¼ ì œê³µí•˜ì—¬ ìì‹ ìš”ì†Œë¥¼ ì¶”ê°€/ì œê±°í•  ìˆ˜ ìˆìŒ
- Client (í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ): Component ì¸í„°í˜ì´ìŠ¤ë§Œ ì‚¬ìš©í•˜ì—¬ Leafì™€ Compositeì„ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ë‹¤ë£¸

## ì˜ˆì œ

```
// ğŸŒ³ Component: íŒŒì¼ ì‹œìŠ¤í…œ ìš”ì†Œ(íŒŒì¼ ë˜ëŠ” í´ë”)
interface FileSystemComponent {
  show(): void;
}

// ğŸ“„ Leaf: íŒŒì¼(ê°œë³„ ê°ì²´)
class File implements FileSystemComponent {
  constructor(private name: string) {}

  show(): void {
    console.log(`ğŸ“„ File: ${this.name}`);
  }
}

// ğŸ“‚ Composite: í´ë”(ë‹¤ë¥¸ íŒŒì¼ ë˜ëŠ” í´ë” í¬í•¨ ê°€ëŠ¥)
class Folder implements FileSystemComponent {
  private children: FileSystemComponent[] = [];

  constructor(private name: string) {}

  add(component: FileSystemComponent): void {
    this.children.push(component);
  }

  show(): void {
    console.log(`ğŸ“‚ Folder: ${this.name}`);
    this.children.forEach((child) => child.show());
  }
}

// ğŸ¯ Client Code
const root = new Folder("Root");
const folder1 = new Folder("Documents");
const folder2 = new Folder("Pictures");

const file1 = new File("Resume.pdf");
const file2 = new File("Photo.png");
const file3 = new File("Notes.txt");

folder1.add(file1);
folder2.add(file2);
folder2.add(file3);
root.add(folder1);
root.add(folder2);

root.show();

// ì‹¤í–‰ ê²°ê³¼
ğŸ“‚ Folder: Root
ğŸ“‚ Folder: Documents
ğŸ“„ File: Resume.pdf
ğŸ“‚ Folder: Pictures
ğŸ“„ File: Photo.png
ğŸ“„ File: Notes.txt
```

## ì‚¬ìš©ì²˜

- íŒŒì¼ ì‹œìŠ¤í…œ, UI êµ¬ì„± ìš”ì†Œ, ì¡°ì§ êµ¬ì¡° ë“± íŠ¸ë¦¬ êµ¬ì¡°ë¥¼ ë‹¤ë£° ë•Œ
- ê°ì²´ ê³„ì¸µì„ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ê³  ì‹¶ì„ ë•Œ
- ì¬ê·€ì ì¸ ë°ì´í„° êµ¬ì¡°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•´ì•¼ í•  ë•Œ
- í´ë¼ì´ì–¸íŠ¸ê°€ ê°œë³„ ê°ì²´ì™€ ë³µí•© ê°ì²´ë¥¼ ì‹ ê²½ ì“°ì§€ ì•Šê³  ì¼ê´€ëœ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•´ì•¼ í•  ë•Œ
