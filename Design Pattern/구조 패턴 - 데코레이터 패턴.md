# ë°ì½”ë ˆì´í„° íŒ¨í„´(Decorator Pattern)

ê¸°ì¡´ ê°ì²´ì˜ êµ¬ì¡°ë¥¼ ë³€ê²½í•˜ì§€ ì•Šìœ¼ë©´ì„œ ë™ì ìœ¼ë¡œ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ë””ìì¸ íŒ¨í„´

## íŠ¹ì§•

- ê¸°ì¡´ í´ë˜ìŠ¤ë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šê³  ê¸°ëŠ¥ í™•ì¥ ê°€ëŠ¥
- ê°ì²´ì— ì—¬ëŸ¬ ê°œì˜ ë°ì½”ë ˆì´í„°ë¥¼ ì¡°í•©í•˜ì—¬ ë‹¤ì–‘í•œ ê¸°ëŠ¥ ì¶”ê°€ ê°€ëŠ¥
- ìƒì†ë³´ë‹¤ ìœ ì—°í•œ ë°©ì‹ìœ¼ë¡œ ê¸°ëŠ¥ ì¶”ê°€ ê°€ëŠ¥(ì¡°í•© ê°€ëŠ¥)
- OCP(ê°œë°©-íì‡„ ì›ì¹™, Open-Closed Principle) ì¤€ìˆ˜

## êµ¬ì¡°

```
+------------------+
| Component        |  (ê¸°ë³¸ ì¸í„°í˜ì´ìŠ¤)
|------------------|
| operation()      |
+------------------+
        â–²
        |
+------------------+
| ConcreteComponent|  (ê¸°ë³¸ ê¸°ëŠ¥ì„ ê°€ì§„ ì‹¤ì œ ê°ì²´)
|------------------|
| operation()      |
+------------------+
        â–²
        |
+------------------+
| Decorator        |  (ë°ì½”ë ˆì´í„° ê¸°ë³¸ í´ë˜ìŠ¤)
|------------------|
| operation()      |
+------------------+
        â–²
        |
+------------------+
| ConcreteDecorator|  (êµ¬ì²´ì ì¸ ê¸°ëŠ¥ ì¶”ê°€)
|------------------|
| operation()      |
+------------------+
```

## êµ¬ì„± ìš”ì†Œ

- Component(ì»´í¬ë„ŒíŠ¸, ì¸í„°í˜ì´ìŠ¤ ë˜ëŠ” ì¶”ìƒ í´ë˜ìŠ¤): ê¸°ë³¸ ê°ì²´ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜
- ConcreteComponent(êµ¬ì²´ì ì¸ ì»´í¬ë„ŒíŠ¸, ì‹¤ì œ ê°ì²´): Componentë¥¼ êµ¬í˜„í•œ ê¸°ë³¸ í´ë˜ìŠ¤
- Decorator (ë°ì½”ë ˆì´í„°, ê¸°ë³¸ í´ë˜ìŠ¤): Componentë¥¼ ê°ì‹¸ê³ , ì¶”ê°€ì ì¸ ê¸°ëŠ¥ì„ í™•ì¥í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” í´ë˜ìŠ¤
- ConcreteDecorator(êµ¬ì²´ì ì¸ ë°ì½”ë ˆì´í„° í´ë˜ìŠ¤): Decoratorë¥¼ ìƒì†í•˜ì—¬ ì‹¤ì œ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” í´ë˜ìŠ¤
- Client (í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ): Componentë¥¼ ì‚¬ìš©í•˜ë©°, í•„ìš”ì— ë”°ë¼ Decoratorë¥¼ ì¶”ê°€í•˜ì—¬ ê¸°ëŠ¥ì„ í™•ì¥

## ì˜ˆì œ

```
// â˜• Component: ê¸°ë³¸ ì»¤í”¼ ì¸í„°í˜ì´ìŠ¤
interface Coffee {
  cost(): number;
  description(): string;
}

// â˜• ConcreteComponent: ê¸°ë³¸ ì»¤í”¼
class BasicCoffee implements Coffee {
  cost(): number {
    return 5;
  }

  description(): string {
    return "Basic Coffee";
  }
}

// ğŸ« Decorator: ë°ì½”ë ˆì´í„° ê¸°ë³¸ í´ë˜ìŠ¤
abstract class CoffeeDecorator implements Coffee {
  protected coffee: Coffee;

  constructor(coffee: Coffee) {
    this.coffee = coffee;
  }

  cost(): number {
    return this.coffee.cost();
  }

  description(): string {
    return this.coffee.description();
  }
}

// ğŸ¥› ConcreteDecorator: ìš°ìœ  ì¶”ê°€
class MilkDecorator extends CoffeeDecorator {
  cost(): number {
    return super.cost() + 2;
  }

  description(): string {
    return super.description() + ", Milk";
  }
}

// ğŸ¯ ConcreteDecorator: ìºëŸ¬ë©œ ì¶”ê°€
class CaramelDecorator extends CoffeeDecorator {
  cost(): number {
    return super.cost() + 3;
  }

  description(): string {
    return super.description() + ", Caramel";
  }
}

// ğŸ¯ Client Code
let coffee: Coffee = new BasicCoffee();
console.log(`${coffee.description()} - $${coffee.cost()}`);

coffee = new MilkDecorator(coffee);
console.log(`${coffee.description()} - $${coffee.cost()}`);

coffee = new CaramelDecorator(coffee);
console.log(`${coffee.description()} - $${coffee.cost()}`);

// ì‹¤í–‰ ê²°ê³¼
Basic Coffee - $5
Basic Coffee, Milk - $7
Basic Coffee, Milk, Caramel - $10
```

## ì‚¬ìš©ì²˜

- ê¸°ì¡´ í´ë˜ìŠ¤ë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šê³  ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•´ì•¼ í•  ë•Œ
- ê°ì²´ì˜ ê¸°ëŠ¥ì„ ì¡°í•©í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ìœ ì—°ì„±ì„ ë†’ì´ê³  ì‹¶ì„ ë•Œ
- ìƒì†ë³´ë‹¤ ì¡°í•©ì„ í™œìš©í•˜ì—¬ ê¸°ëŠ¥ í™•ì¥ì„ í•˜ê³  ì‹¶ì„ ë•Œ
- ëŸ°íƒ€ì„ì— ê°ì²´ì˜ ë™ì‘ì„ ë³€ê²½í•  í•„ìš”ê°€ ìˆì„ ë•Œ
