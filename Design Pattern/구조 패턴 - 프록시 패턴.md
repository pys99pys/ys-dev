# í”„ë¡ì‹œ íŒ¨í„´(Proxy Pattern)

ë‹¤ë¥¸ ê°ì²´ì— ëŒ€í•œ ì ‘ê·¼ì„ ì œì–´í•˜ê¸° ìœ„í•´ ëŒ€ë¦¬ ê°ì²´(Proxy)ë¥¼ ì œê³µí•˜ëŠ” ë””ìì¸ íŒ¨í„´

## íŠ¹ì§•

- í´ë¼ì´ì–¸íŠ¸ì™€ ì‹¤ì œ ê°ì²´(Real Subject) ì‚¬ì´ì—ì„œ ì¤‘ê°„ì ì—­í• ì„ ìˆ˜í–‰
- ì ‘ê·¼ ì œì–´(ë³´ì•ˆ, ì¸ì¦), ë¡œê¹…, ìºì‹± ë“±ì˜ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŒ
- ì‹¤ì œ ê°ì²´ì˜ ìƒì„± ë¹„ìš©ì´ í´ ê²½ìš°, í•„ìš”í•  ë•Œë§Œ ìƒì„±í•˜ëŠ” Lazy Initialization ê°€ëŠ¥
- ì›ê²©(ë„¤íŠ¸ì›Œí¬) ì ‘ê·¼ì„ íˆ¬ëª…í•˜ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆìŒ

## êµ¬ì¡°

```
+------------------+
| Subject          |  (ê³µí†µ ì¸í„°í˜ì´ìŠ¤)
|------------------|
| request()        |
+------------------+
       â–²
       |
+------------------+         +------------------+
| Proxy            | ------> | RealSubject      |
|------------------|         |------------------|
| request()        |         | request(  )      |
+------------------+         +------------------+

```

## êµ¬ì„± ìš”ì†Œ

- Subject(ì¸í„°í˜ì´ìŠ¤ ë˜ëŠ” ì¶”ìƒ í´ë˜ìŠ¤): RealSubjectì™€ Proxyê°€ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ê³µí†µ ì¸í„°í˜ì´ìŠ¤
- RealSubject(ì‹¤ì œ ê°ì²´, ì›ë³¸ ê°ì²´): í”„ë¡ì‹œê°€ ê°ì‹¸ê³  ìˆëŠ” ì‹¤ì œ ê°ì²´
- Proxy(í”„ë¡ì‹œ ê°ì²´, ëŒ€ë¦¬ì¸ ì—­í• ): RealSubjectë¥¼ ê°ì‹¸ê³  ìˆìœ¼ë©°, í´ë¼ì´ì–¸íŠ¸ê°€ ì§ì ‘ ì ‘ê·¼í•˜ì§€ ëª»í•˜ë„ë¡ ì¤‘ê°„ì—ì„œ ì œì–´
- Client(í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ): Proxyë¥¼ í†µí•´ RealSubjectì— ì ‘ê·¼

## ì˜ˆì œ

```
// ğŸ‘¤ Subject: ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
interface UserService {
  getUserInfo(): string;
}

// ğŸ  RealSubject: ì‹¤ì œ ì‚¬ìš©ì ì •ë³´ ì œê³µ
class RealUserService implements UserService {
  getUserInfo(): string {
    return "ğŸ”‘ ì‚¬ìš©ì ì •ë³´: John Doe, VIP";
  }
}

// ğŸšª Proxy: ì¸ì¦ì„ ìˆ˜í–‰í•˜ëŠ” ë³´í˜¸ í”„ë¡ì‹œ
class UserServiceProxy implements UserService {
  private realUserService: RealUserService;
  private authenticated: boolean;

  constructor(authenticated: boolean) {
    this.realUserService = new RealUserService();
    this.authenticated = authenticated;
  }

  getUserInfo(): string {
    if (this.authenticated) {
      return this.realUserService.getUserInfo();
    } else {
      return "â›” ì ‘ê·¼ ë¶ˆê°€: ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.";
    }
  }
}

// ğŸ¯ Client Code
const authorizedUser = new UserServiceProxy(true);
console.log(authorizedUser.getUserInfo());

const unauthorizedUser = new UserServiceProxy(false);
console.log(unauthorizedUser.getUserInfo());

// ì‹¤í–‰ ê²°ê³¼
ğŸ”‘ ì‚¬ìš©ì ì •ë³´: John Doe, VIP
â›” ì ‘ê·¼ ë¶ˆê°€: ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.
```

## ì‚¬ìš©ì²˜

- ì‹¤ì œ ê°ì²´ì˜ ìƒì„± ë¹„ìš©ì´ í¬ê³ , í•„ìš”í•  ë•Œë§Œ ìƒì„±í•˜ê³  ì‹¶ì„ ë•Œ(Virtual Proxy)
- ë³´ì•ˆ(ì¸ì¦, ê¶Œí•œ ê²€ì‚¬)ì´ í•„ìš”í•  ë•Œ(Protection Proxy)
- ì›ê²© ë„¤íŠ¸ì›Œí¬ ê°ì²´ì— ì ‘ê·¼í•´ì•¼ í•  ë•Œ(Remote Proxy)
- ìºì‹±ì„ í†µí•´ ë°˜ë³µì ì¸ ìš”ì²­ì„ ìµœì í™”í•˜ê³  ì‹¶ì„ ë•Œ(Caching Proxy)
